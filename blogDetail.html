<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="ASSETS/CSS/style.css">
    <title>Login&nbsp;Page</title>
    <script>
        let loggedID = window.localStorage.getItem("loggedUser");
        if(loggedID === null){
            window.location.href = "index.html";
        }

    </script>
</head>
<body>
    <header class="w-100">
        <div class="navbar flex-between-center w-100">
            <div class="logo flex-center-center"><a href="index.html">My&nbsp;Brand&nbsp;Andre</a></div>
            <ul class="flex-center-center w-50">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="blog.html">Blogs</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="portfolio.html">Portfolio</a></li>
                <li class="btn_login"><a href="login.html">Login</a></li>
                <li><button class="logoutDash btn_logout hide" >Logout</button></li>

            </ul>
            <div class="menu"><img src="ASSETS/IMAGES/Menu_50px.png" alt="menuPic"></div>
        </div>
        <div class="round-bg"></div>
        <div class="blog-pic">
        </div>
        <div class="profile-description">
            <!-- <h4><span>Hello</span> My name is</h4> -->
            <h1>Blogs Details</h1>
            <!-- <h3>Web Developer</h3> -->
        </div>
        <div class="header-contact">
            <ul class="flex-center flex-column">
                <li class="flex-center"><img src="ASSETS/IMAGES/Message_52px.png" alt="email"><a href="mailto:andremugabo@yahoo.fr">andremugabo@yahoo.fr</a></li>
                <li class="flex-center-items"><img src="ASSETS/IMAGES/Phone_50px.png" alt="phone"><a href="tel:+250788111111">(+250)788-111-1111</a></li>
            </ul>
        </div>
        <button class="hire_btn">Hire&nbsp;Me</button>

    </header>
    <main class="blogDetails_main">
        <h2>Blog&nbsp;Details</h2>
        <div class="inner_main">
            <div class="left_inner_main">
                <div class="search_here">
                    <h3>Search Here</h3>
                    <div class="search_input_blogD">
                        <input type="text" placeholder="Search Anything"><button type="submit" class="flex-center-center"><img src="ASSETS/IMAGES/Google Web Search_48px.png" alt="search_here"></button>
                    </div>
                </div>
                <div class="blogD_category">
                    <h3>Categories</h3>
                    <div class="category_blog flex-center-center">
                        <div class="category flex-between-center">
                            <span>Web Hosting</span>
                            <span id="num">(15)</span>
                        </div>

                        <div class="category flex-between-center">
                            <span>Web Hosting</span>
                            <span id="num">(15)</span>
                        </div>

                        <div class="category flex-between-center">
                            <span>Web Hosting</span>
                            <span id="num">(15)</span>
                        </div>

                        <div class="category flex-between-center">
                            <span>Web Hosting</span>
                            <span id="num">(15)</span>
                        </div>

                        <div class="category flex-between-center">
                            <span>Web Hosting</span>
                            <span id="num">(15)</span>
                        </div>

                        <div class="category flex-between-center">
                            <span>Web Hosting</span>
                            <span id="num">(15)</span>
                        </div>

                        <div class="category flex-between-center">
                            <span>Web Hosting</span>
                            <span id="num">(15)</span>
                        </div>

                        <div class="category flex-between-center">
                            <span>Web Hosting</span>
                            <span id="num">(15)</span>
                        </div>

                        <div class="category flex-between-center">
                            <span>Web Hosting</span>
                            <span id="num">(15)</span>
                        </div>

                        <div class="category flex-between-center">
                            <span>Web Hosting</span>
                            <span id="num">(15)</span>
                        </div>
                    </div>

                </div>
                <div class="search_bloggers">
                    <h3>Bloggers</h3>
                    <div class="individual_bloggers">
                        <div class="blogger flex-between-center">
                            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJvZmlsZSUyMHBpY3R1cmV8ZW58MHx8MHx8fDA%3D" alt="blogger_pic">
                            <div class="blogger_details">
                                <p>Seamlessl monetiz <br>cent material<br> bleeding.</p>
                                <a href="#">By Naile</a>
                            </div>
                        </div>

                        <div class="blogger flex-between-center">
                            <img src="https://images.unsplash.com/photo-1603415526960-f7e0328c63b1?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8cHJvZmlsZSUyMHBpY3R1cmV8ZW58MHx8MHx8fDA%3D" alt="blogger_pic">
                            <div class="blogger_details">
                                <p>Seamlessl monetiz <br>cent material<br> bleeding.</p>
                                <a href="#">By Naile</a>
                            </div>
                        </div>

                        <div class="blogger flex-between-center">
                            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJvZmlsZSUyMHBpY3R1cmV8ZW58MHx8MHx8fDA%3D" alt="blogger_pic">
                            <div class="blogger_details">
                                <p>Seamlessl monetiz <br>cent material<br> bleeding.</p>
                                <a href="#">By Naile</a>
                            </div>
                        </div>

                        <div class="blogger flex-between-center">
                            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJvZmlsZSUyMHBpY3R1cmV8ZW58MHx8MHx8fDA%3D" alt="blogger_pic">
                            <div class="blogger_details">
                                <p>Seamlessl monetiz <br>cent material<br> bleeding.</p>
                                <a href="#">By Naile</a>
                            </div>
                        </div>

                        <div class="blogger flex-between-center">
                            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJvZmlsZSUyMHBpY3R1cmV8ZW58MHx8MHx8fDA%3D" alt="blogger_pic">
                            <div class="blogger_details">
                                <p>Seamlessl monetiz <br>cent material<br> bleeding.</p>
                                <a href="#">By Naile</a>
                            </div>
                        </div>

                        <div class="blogger flex-between-center">
                            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJvZmlsZSUyMHBpY3R1cmV8ZW58MHx8MHx8fDA%3D" alt="blogger_pic">
                            <div class="blogger_details">
                                <p>Seamlessl monetiz <br>cent material<br> bleeding.</p>
                                <a href="#">By Naile</a>
                            </div>
                        </div>

                        <div class="blogger flex-between-center">
                            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJvZmlsZSUyMHBpY3R1cmV8ZW58MHx8MHx8fDA%3D" alt="blogger_pic">
                            <div class="blogger_details">
                                <p>Seamlessl monetiz <br>cent material<br> bleeding.</p>
                                <a href="#">By Naile</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="right_inner_main">
                <div class="blog_details_to_display">
                    <!-- blog details -->
                </div>
                <div class="reply_to_comment">
                    <h1>Reply a Comment:</h1>
                </div>
                <div class="comment_section">
                   <!-- comment section -->

                </div>

                <div class="leave_comment">
                    <h3>Leave a comment:</h3>
                </div>
                <div class="write_comment">
                    <h4>Comment</h4>
                    <form action="" id="commentForm">
                        <textarea name="" id="comment_msg" cols="30" rows="10" placeholder="Write Comment"></textarea>
                        <h6 class="error error11 hide" id="comment_msg_error">4</h6>
                        <button type="submit">SUBMIT NOW</button>
                    </form>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="top-footer"></div>
        <div class="inner-footer">
            <div class="flex-center-items footer-card">
                <h3>Menu</h3>
                <ul class="flex-center-items w-100">
                    <li><a href="#">Home</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Blogs</a></li>
                    <li><a href="#">Contract</a></li>
                    <li><a href="#">Portfolio</a></li>
                    <li><a href="#">Login</a></li>
                </ul>
            </div>


            <div class="flex-center-items footer-card">
                <h3>Follow&nbsp;Me</h3>
                <ul class="flex-center-items w-100">
                    <li><a href="#">LinkedIn</a></li>
                    <li><a href="#">Facebook</a></li>
                    <li><a href="#">YouTube</a></li>
                    <li><a href="#">Instagram</a></li>
                    <li><a href="#">Twitter</a></li>
                </ul>
            </div>

            <div class="flex-center-items footer-card">
                <h3>Office&nbsp;Address</h3>
                <ul class="flex-center-items w-100">
                    <li>13 Fifth Avenue, Kigali,<br> KN 101660</li>
                    <li>555-537-8732</li>
                    <li>contact@info.com</li>
                </ul>
            </div>

            <div class="footer-card">
                <hr>
                <hr>
                <h6>UI/UX Desigm / Web Development</h6>
                <h5>Newsletter</h5>
                <p>Subscribe newsletter to get updates</p>
                <form action="">
                    <input type="email" name="guest_email" placeholder="Email address">
                    <button type="button" >SUBSCRIBE</button>
                </form>
                <div class="social-media">
                    <ul class="flex-center">
                        <li><a href="#" class="flex-center-center"><img src="ASSETS/IMAGES/Facebook_50px.png" alt="socialMedia"></a></li>
                        <li><a href="#" class="flex-center-center"><img src="ASSETS/IMAGES/Twitter_50px.png" alt="socialMedia"></a></li>
                        <li><a href="#" class="flex-center-center"><img src="ASSETS/IMAGES/LinkedIn_50px.png" alt="socialMedia"></a></li>
                        <li><a href="#" class="flex-center-center"><img src="ASSETS/IMAGES/YouTube_50px_1.png" alt="socialMedia"></a></li>
                    </ul>
                </div>

            </div>
        </div>
        <div class="copyright flex-between-center w-100">
            <p>Copyright © 2024 My Brand - Andre | Powered by AM Coding Lab</p>
            <button><img src="ASSETS/IMAGES/Circled Up_52px.png" alt="backTop"></button>
        </div>
        <div class="bottom-footer"></div>
    </footer>
    <script src="ASSETS/JS/index.js"></script>
    <script src="ASSETS/JS/blogDetails.js"></script>
    <script>

const setError = (idError, message) => {
  document.getElementById(idError).classList.remove("hide");
  document.getElementById(idError).innerText = message;
};
const resetError = (idError) => {
  document.getElementById(idError).classList.add("hide");
};
const displaySuccessMsg = (element, message) => {
  const header6 = document.createElement("h6");
  element.classList.remove("hide");
  element.style.background = "#4cb54cb5";
  element.appendChild(header6).innerText = `${message}`;
  setTimeout(() => {
    element.classList.add("hide");
  }, 2000);
};

const displayFailMessage = (element, message) => {
  const header6 = document.createElement("h6");
  element.classList.remove("hide");
  element.style.background = "#770a0afc";
  element.appendChild(header6).innerText = `${message}`;
  setTimeout(() => {
    element.classList.add("hide");
  }, 2000);
};

const validateCommentInput = () => {
  if (document.querySelector("#comment_msg").value.trim() === "") {
    setError("comment_msg_error", "Your Comment is require");
  } else {
    document.querySelector(".error11").classList.add("hide");
  }
};

// create comment
const createComment = (c_id,u_id,b_id,c_msg,c_date)=>{
    comment = {
        c_id: c_id,
        u_id: u_id,
        b_id: b_id,
        c_msg: c_msg,
        l_count:0,
        dl_count:0,
        c_date: c_date
    }

    return comment;
}


//COMMENT EVENT
let blogIdI = window.sessionStorage.getItem("blogDetails");
let bIdI = JSON.parse(blogId);
let dbComment = [];
const commentFormEvent = (e) => {
  e.preventDefault();
  validateCommentInput();
  if(document.querySelector("#comment_msg").value.trim() !== ""){
    let u_idText = window.localStorage.getItem("loggedUser");
    let u_id = JSON.parse(u_idText);
    console.log(u_id);
    let getComment = window.localStorage.getItem("comment");
    let theComment = JSON.parse(getComment);
    if(theComment === null){
        let c_id = 1;
        const today = new Date();
        const formattedDate = today.toLocaleDateString();
        let c_date = formattedDate;
        let c_message = document.querySelector("#comment_msg").value;
        let createC = createComment(c_id,u_id,bIdI,c_message,c_date);
        dbComment.push(createC);
        updateLocalStorage(dbComment);
        location.reload();
    }else{
        dbComment = theComment;
        let c_id = dbComment.length + 1;
        const today = new Date();
        const formattedDate = today.toLocaleDateString();
        console.log(formattedDate);
        let c_date = formattedDate;
        let c_message = document.querySelector("#comment_msg").value;
        let createC = createComment(c_id,u_id,bIdI,c_message,c_date);
        dbComment.push(createC);
        updateLocalStorage(dbComment);
        location.reload();
    }







  }
};

if (document.getElementById("commentForm")) {
  document
    .getElementById("commentForm")
    .addEventListener("submit", commentFormEvent);
}



const updateLocalStorage = (data) => {
  let dataBaseText = JSON.stringify(data);
  window.localStorage.setItem("comment", dataBaseText);
};

    </script>

</body>
</html>
